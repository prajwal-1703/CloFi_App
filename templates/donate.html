{% extends "base.html" %}

{% block content %}
  <h2>Donate</h2>

  <!-- Donation Form -->
  <form method="post" class="card form">
    <label>Your Name
      <input type="text" name="donor_name" maxlength="120">
    </label>

    <label>Item
      <input type="text" name="item" maxlength="120" required>
    </label>

    <label>Quantity
      <input type="number" name="quantity" min="1" value="1">
    </label>

    <label>Match a Need (optional)
      <select name="need_id">
        <option value="">-- None --</option>
        {% for n in needs %}
          <option value="{{ n.id }}">#{{ n.id }} - {{ n.title }} ({{ n.category }})</option>
        {% endfor %}
      </select>
    </label>

    <label>Notes
      <textarea name="notes" rows="3"></textarea>
    </label>

    <button type="submit" class="btn">Submit Donation</button>
  </form>

  <!-- Inserted Background Thumbnail -->
  <div class="donation-bg">
    <img src="{{ url_for('static', filename='images/dashboard-bg2.jpg') }}"
         alt="Dashboard background thumbnail"
         width="400" height="250">
  </div>

  <!-- Recent Donations -->
  <h3>Recent Donations</h3>
  <ul class="list">
    {% for d in donations %}
      <li><strong>{{ d.donor_name }}</strong> donated {{ d.quantity }} Ã— {{ d.item }}</li>
    {% else %}
      <li>No donations yet.</li>
    {% endfor %}
  </ul>
{% endblock %}
